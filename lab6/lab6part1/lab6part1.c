#include <stdbool.h>
#include <stdio.h>
#include <stdlib.h>

void printBoard(int Size, int grid[][Size]);
void getInput(int* row, int* col, int Size);
void getLevelAndDimensions(int* size, int* difficultyLevel, const int maxDim);
bool validRowCol(int row, int col, int Size);

int main(void) {
  const int maxDim = 23;
  int Size = 0, difficultyLevel = 0;

  getLevelAndDimensions(&Size, &difficultyLevel, maxDim);

  int copy[maxDim][maxDim] = {
      {1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1},
      {1, 0, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1},
      {0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0},
      {1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1},
      {1, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1},
      {0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 0},
      {1, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1},
      {0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1},
      {1, 1, 0, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1},
      {1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1},
      {0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0},
      {1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1},
      {0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1},
      {0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1},
      {1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 1},
      {0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1},
      {1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1},
      {0, 1, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0, 1, 1, 0},
      {0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 1},
      {1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0},
      {1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1},
      {1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 1},
      {1, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1}};

  int grid[Size][Size];
  for (int row = 0; row < Size; row++) {
    for (int col = 0; col < Size; col++) {
      grid[row][col] = copy[row][col];
    }
  }
  printBoard(Size, grid);

  int userInputRow = 0, userInputCol = 0;
  getInput(&userInputRow, &userInputCol, Size);
  printf("row, col = %d, %d\n", userInputRow, userInputCol);
  grid[userInputRow][userInputCol] = 9;  // any arbitrary number
  printBoard(Size, grid);

  return 0;
}

void getInput(int* row, int* col, int Size) {
  printf("Enter user input: ");
  scanf(" %d %d", row, col);
  while (!validRowCol(*row, *col, Size)){
    printf("Please enter your row and col to be between 0 and Size - 1: ");
    scanf(" %d %d", row, col);
  }
}

bool validRowCol(int row, int col, int Size) {
  bool valid = false;
  if (row < Size && row >= 0 && col < Size && col >= 0){
    valid = true;
  }
  return valid;
}

void getLevelAndDimensions(int* Size, int* levelOfDiff, const int maxDim) {
  //*levelOfDiff = 0;
  printf("Enter the difficulty level: ");
  scanf(" %d", levelOfDiff);
  if (*levelOfDiff <= 0 || *levelOfDiff > maxDim){
    while (*levelOfDiff <= 0 || *levelOfDiff > maxDim){
      printf("Please enter a difficulty level between 1 and %d: ", maxDim);
      scanf(" %d", levelOfDiff);
    }
  }
  printf("Enter the dimensions of the grid: ");
  scanf(" %d", Size);
  if (*levelOfDiff > *Size || *Size > maxDim){
    while (*levelOfDiff > *Size || *Size > maxDim){
      printf("Please enter dimensions >= %d: ", *levelOfDiff);
      scanf(" %d", Size);
    }
  }
}

void printBoard(int Size, int grid[][Size]) {
  for (int i = 0; i < Size; i++){
    for (int j = 0; j < Size; j++){
      printf("%d", grid[i][j]);
    }
    printf("\n");
  }        
}
